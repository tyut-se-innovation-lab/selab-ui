import{d as N,g as S,al as at,c as P,r as le,n as G,o as M,a as K,ak as it,I as i,am as O,h as p,a4 as _e,a5 as te,k as V,F as fe,E as Ve,e as se,t as re,an as Ce,O as me,a2 as Te,a3 as qe,m as Ue,_ as rt,y as ve,j as ye,ao as Je,ap as ge,G as De,aq as Ze,M as ut,T as Ge,b as ct,w as dt,ar as ft}from"./framework.axX6AL4r.js";const mt={type:{type:String,default:"info"},onClick:{type:Function},plain:{type:Boolean,Boolean,default:!1},round:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},size:{type:String,default:"middle"}},He="Default Click Handler",vt=N({name:"se-button",__name:"button",props:mt,setup(e){const t=e,n=S(()=>({[`se-button--${t.type}`]:t.type,"is-plain":t.plain,"is-round":t.round,"is-disabled":t.disabled,[`se-button--${t.size}`]:t.size})),l=at({value:He}),o=()=>{t.onClick?(t.onClick(),l.value="Default Click Handler"):l.value=He};return(s,r)=>(M(),P("button",{class:G(["se-button",n.value]),onClick:o},[le(s.$slots,"default",{},()=>[K("Default Text")])],2))}}),gt=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),tl=gt(vt),ht=N({name:"se-box",props:{type:{type:[String,Array],default:""},tag:{type:String,default:"div"},customClass:{type:[String,Array],default:""}},setup(e,{slots:t,attrs:n}){const l=S(()=>{const o="se-box",s=Array.isArray(e.type)?e.type.map(c=>`se-box--${c}`):e.type?[`se-box--${e.type}`]:[],r=Array.isArray(e.customClass)?e.customClass:e.customClass?[e.customClass]:[];return[o,...s,...r].join(" ")});return()=>it(e.tag,{class:l.value,...n},t.default?t.default():"Default content")}}),pt=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),nl=pt(ht),yt=N({name:"se-card",props:{type:{type:String,default:"default",validator:e=>["default","primary","secondary","success","warning","danger"].includes(e)},title:{type:String,default:""},icon:{type:String,default:""},hoverable:{type:Boolean,default:!1},bordered:{type:Boolean,default:!0}},setup(e,{slots:t}){const n=S(()=>({"se-card":!0,[`se-card--${e.type}`]:!!e.type,"se-card--hoverable":e.hoverable,"se-card--bordered":e.bordered}));return()=>i("div",{class:n.value},[e.icon&&i("div",{class:"se-card-icon"},[e.icon]),e.title&&i("div",{class:"se-card-title"},[e.title]),i("div",{class:"se-card-content"},[t.default?t.default():i("span",null,[K("No Content Available")])]),t.footer&&i("div",{class:"se-card-footer"},[t.footer()])])}}),wt=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),ll=wt(yt),bt={mounted:e=>e.focus()},he=new Map,xt=["click","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","keydown","keyup","keypress","wheel","scroll","copy","scroll","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","fullscreenchange","fullscreenerror","gotpointercapture"],Ae={};xt.forEach(e=>{he.set(e,[]),Ae[e]=t=>{he.get(e).forEach(l=>{l(t)})}});function kt(e,t){if(he.has(e)){const n=he.get(e);n.push(t),n.length===1&&document.addEventListener(e,Ae[e])}else console.error("Document Event: Unsupported event type: "+e)}function Ct(e,t){if(he.has(e)){const n=he.get(e),l=n.indexOf(t);l!==-1&&(n.splice(l,1),n.length===0&&document.removeEventListener(e,Ae[e]))}}const We={on:kt,off:Ct},ze={mounted(e,t){function n(l){let o=!0;if(e.contains(l.target)?o=!1:Array.isArray(t.arg)&&t.arg.forEach(s=>{!(l.target instanceof Node)||!o||s.contains(l.target)&&(o=!1)}),!o)return!1;t.value&&typeof t.value=="function"&&t.value(l)}e.__click_outside__=n,document.addEventListener("click",n)},beforeUnmount(e){document.removeEventListener("click",e.__click_outside__),delete e.__click_outside__}},St=()=>["info","success","warning","danger"];let J=null;function pe(){J||(J=document.createElement("div"),J.id="__se_window_mount__",J.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            z-index: 9999;
        `,document.body.appendChild(J));function e(o){o.style.position!=="absolute"&&o.style.position!=="fixed"&&(o.style.position!=="static"&&o.style.position&&console.warn("弹窗组件的节点必须是absolute或fixed定位, 这次帮你改成absolute了, 下次注意啊!"),o.style.position="absolute"),J==null||J.appendChild(o);function s(){t(o)}return s.bind(null)}function t(o){J==null||J.removeChild(o)}function n(o){const s=document.createElement("div");s.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
        `,e(s),O(o,s);let r=!0;function c(){r&&(O(null,s),t(s),r=!1)}return c.bind(null)}function l(o,s){const r=i(o,s);let c=n(r),u=!0;function a(){u||(c=n(r),u=!0)}function d(){u&&(c(),u=!1)}return{vNode:r,unRender:d.bind(null),render:a.bind(null)}}return{mountDiv:e.bind(null),render:n.bind(null),createVNode:l.bind(null)}}const Se=(e,t)=>{const n=document.createElement("span");n.innerHTML=e,n.style.position="absolute",n.style.left="-9999px",t?n.style.fontSize=t+"px":n.style.fontSize="initial",document.body.appendChild(n);const l=n.offsetWidth;return document.body.removeChild(n),l},$t=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",t.style.height=typeof e=="number"?e+"px":e,document.body.appendChild(t);const n=t.offsetHeight;return document.body.removeChild(t),n},Oe=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",O(e,t),document.body.appendChild(t);const n=t.offsetHeight;return O(null,t),document.body.removeChild(t),n},oe=e=>{switch(e){case"large":return 1.2;case"small":return .8;case"mini":return .6;default:return 1}},Ke=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),Qe=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),et=(e,t)=>(e.install=n=>{n.directive(t,e)},e);function _t(e,t=300){let n=-1;return function(...l){n>-1&&clearTimeout(n),n=window.setTimeout(()=>{e.apply(this,l),n=-1},t)}}const It={class:"se-select-selection-tags"},Lt=["onClick"],Et={class:"se-select-selection-search"},Vt=["value"],Tt={class:"se-select-selection-item"},zt={class:"se-select-dropdown"},Mt={class:"se-select-dropdown-wrapper"},Nt=["onClick"],Pt={key:0,class:"empty-data"},Bt=N({name:"se-select",__name:"select",props:{placeholder:{default:"请输入内容"},options:{default:()=>[]},multiple:{type:Boolean,default:!1},autoClearSearchValue:{type:Boolean,default:!0},modelValue:{},filterable:{type:Boolean},filterMethod:{},queryMethod:{},remote:{type:Boolean,default:!1},loading:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,l=t,o=p(""),s=S({get(){return n.modelValue},set(f){l("update:modelValue",f)}}),r=S(()=>{var f;return(f=n.options.find(g=>g.value===s.value))==null?void 0:f.label}),c=f=>{if(E.value.length>0&&E.value.findIndex(g=>g.value===f.value)>-1||f.value===s.value)return"se-select-dropdown-item-selected"},u=S(()=>n.multiple&&o.value?n.filterable&&n.filterMethod?n.filterMethod(o.value):n.options.filter(f=>f.label.includes(o.value)):n.options),a=p(!1),d=f=>{o.value=f.target.value,a.value=o.value.length>0,n.queryMethod&&n.remote&&_t(n.queryMethod(o.value),500)},k=()=>{var f;if((f=h.value)==null||f.focus(),u.value.length<=0)return a.value=!1;a.value=!a.value},C=()=>{a.value=!1},m=S({get(){return n.multiple&&n.modelValue instanceof Array?n.modelValue||[]:[]},set(f){l("update:modelValue",f)}}),E=p([]);m.value.length>0&&(E.value=n.options.filter(f=>m.value.findIndex(g=>g===f.value)>-1));const $=f=>{if(!n.multiple){o.value=f.label,s.value=f.value,a.value=!1;return}n.autoClearSearchValue&&(o.value="");const g=E.value.findIndex(B=>B.value===f.value);g>-1?E.value.splice(g,1):E.value.push(f),m.value=E.value.map(B=>B.value)},b=f=>{E.value=E.value.filter(g=>g.value!==f.value),m.value=E.value.map(g=>g.value)};p(6);const h=p();return(f,g)=>{const B=_e("click-outside");return te((M(),P("div",{class:G(["se-select",a.value?"se-select-selected":""]),onClick:k},[V("div",{class:"se-select-wrapper",style:me({marginLeft:m.value.length>0?"0px":"10px"})},[n.multiple?(M(),P(fe,{key:0},[E.value?(M(!0),P(fe,{key:0},Ve(E.value,y=>(M(),P("div",It,[V("span",null,re(y.label),1),V("span",{class:"se-select-selection-tag-close",onClick:Te(D=>b(y),["stop"])},"x",8,Lt)]))),256)):se("",!0),V("div",Et,[V("input",{ref_key:"inputRef",ref:h,class:"se-select-search-input",type:"text",onInput:d,value:o.value},null,40,Vt)])],64)):se("",!0),V("div",Tt,re(r.value),1),te(V("div",{class:"se-select-selection-placeholder"},re(n.placeholder),513),[[Ce,o.value==""&&n.placeholder&&m.value.length<0]])],4),te(V("div",zt,[V("div",Mt,[(M(!0),P(fe,null,Ve(u.value,y=>(M(),P("div",{class:G(["se-select-dropdown-item",c(y)]),onClick:Te(D=>$(y),["stop"])},re(y.label),11,Nt))),256))]),u.value.length==0?(M(),P("div",Pt," 暂无数据 ")):se("",!0)],512),[[Ce,a.value]])],2)),[[B,C]])}}}),Dt=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),ol=Dt(Bt),At={class:"se-skeleton"},Ft={key:0,class:"skeleton-avatar"},Ht={key:0,class:"skeleton-avatar"},Wt={class:"skeleton-paragraph"},Ot=N({name:"se-skeleton",__name:"skeleton",props:{avatarShow:{type:Boolean,default:!0},rows:{default:3},active:{type:Boolean,default:!1},titleWidth:{default:"100%"}},setup(e){const t=e;return(n,l)=>(M(),P("div",At,[V("div",{class:G(["skeleton-container",n.active?"skeleton-animation":""])},[V("div",{class:"skeleton-header",style:me({marginBottom:t.avatarShow?"0px":"10px"})},[t.avatarShow?(M(),P("div",Ft)):se("",!0),V("div",{class:"skeleton-title",style:me({"--skeleton-title-width":t.titleWidth})},null,4)],4),V("div",{class:"skeleton-content",style:me({marginTop:t.avatarShow?"-10px":"0px"})},[t.avatarShow?(M(),P("div",Ht)):se("",!0),V("div",Wt,[(M(!0),P(fe,null,Ve(t.rows,o=>(M(),P("div",{class:"skeleton-paragraph-content",key:o}))),128))])],4)],2)]))}}),Rt=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),sl=Rt(Ot),Xt=N({name:"se-tag",__name:"tag",props:{type:{},closeable:{type:Boolean,default:!1}},emits:["close","click"],setup(e,{emit:t}){const n=p(!0),l=qe(),o=t,s=e,r=()=>{o("click")},c=()=>{s.closeable&&(n.value=!1,o("close"))},u=S(()=>[s.type?`se-tag--${s.type}`:"",n.value?"":"se-tag--hide"]);return(a,d)=>(M(),P("span",{class:G(["se-tag",u.value]),onClick:r},[le(a.$slots,"default"),a.closeable?(M(),P("span",{key:0,class:"se-tag-close-icon",onClick:c},[Ue(l).closeIcon?le(a.$slots,"closeIcon",{key:0}):(M(),P(fe,{key:1},[K(" x ")],64))])):se("",!0)],2))}}),jt=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),al=jt(Xt),Me=St();[...Me];const Yt={info:"info",success:"roundcheck",warning:"round_warn",danger:"roundclose"},I={id:"",message:"",type:"info",duration:3e3,icon:"info",showClose:!1,group:!0,size:"default",repeatNum:0,zIndex:2e9,index:0,top:0,height:0,beforeClose:e=>e(),onCloseClick:()=>{},onClose:()=>{},onDestroy:()=>{}},qt={id:{type:String,default:I.id},message:{type:[String,Object,Function],default:I.message},type:{type:String,default:I.type},duration:{type:Number,default:I.duration},icon:{type:String,default:I.icon},showClose:{type:Boolean,default:I.showClose},group:{type:Boolean,default:I.group},size:{type:String,default:I.size},repeatNum:{type:Number,default:I.repeatNum},zIndex:{type:Number,default:I.zIndex},index:{type:Number,default:I.index},top:{type:Number,default:I.top},height:{type:Number,default:I.height},beforeClose:{type:Function,default:I.beforeClose},onCloseClick:{type:Function,default:I.onCloseClick},onClose:{type:Function,default:I.onClose},onDestroy:{type:Function,default:I.onDestroy}},Ut={name:{type:String,default:"down"},iconSize:{type:[Number,String],default:"16px"},color:{type:String,default:"black"},border:{type:String}},Jt=N({name:"se-icon",props:{...Ut},setup(e){const t=S(()=>`icon-${e.name}`),n=S(()=>e.color||"#333");return{iconName:t,iconColor:n}}});function Zt(e,t,n,l,o,s){return M(),P("span",{class:G(["iconfont",e.iconName]),style:me({fontSize:e.iconSize,color:e.iconColor})},null,6)}const F=rt(Jt,[["render",Zt]]),Gt=N({name:"SeMsg",props:qt,expose:["close"],setup(e,{expose:t}){console.log((e.height-12)/oe(e.size)-30);const n=S(()=>({"se-msg":!0,["se-msg-"+e.type]:!0,["se-msg-"+e.size]:!0})),l=S(()=>typeof e.message=="function"?{value:e.message}:typeof e.message=="string"?{value:()=>e.message,msgWidth:Se(e.message)}:{value:()=>e.message}),o=p(!1),s=S(()=>(o.value?0:-e.height)+e.top),r=S(()=>o.value?1:0);let c=null;const u=S(()=>6+Se(e.repeatNum.toString()));function a(){e.onCloseClick(),k(!1)}function d(C){clearTimeout(c),e.duration>0&&C&&(c=setTimeout(()=>{k(!1)},e.duration))}function k(C){C===!1?e.onClose(e.id):o.value=C}return ve(()=>e.repeatNum,()=>{d(!0)}),ve(()=>o.value,(C,m)=>{C===!1&&m===!0&&setTimeout(()=>{e.onDestroy()},300)}),ye(()=>{setTimeout(()=>{o.value=!0},0),d(!0)}),t({visible:o,closeVisible:()=>k(!1)}),()=>i("div",{class:`${n.value?Object.keys(n.value).join(" "):""}`,style:`top:${s.value}px;z-index:${e.zIndex};opacity:${r.value};height:${typeof e.message=="string"?"16px":"auto"}`,onMouseenter:()=>d(!1),onMouseleave:()=>d(!0)},[(()=>{if(e.icon)return i("div",{class:"se-msg-icon",style:`line-height:${typeof e.message!="string"?(e.height-12)/oe(e.size)-32:"16"}px`},[i(F,{name:Yt[e.icon],iconSize:oe(e.size)*16+"px",color:"#"},null)])})(),i("div",{class:"se-msg-content",style:l.value.msgWidth?`width${l.value.msgWidth}px`:""},[i("span",null,[l.value.value()])]),(()=>{if(e.showClose)return i("div",{class:`se-msg-close se-msg-close-${e.type}`,onClick:a},[i(F,{name:"close",iconSize:oe(e.size)*16+"px",color:"#"},null)])})(),(()=>{if(e.repeatNum>1)return i("span",{class:`se-msg-num se-msg-num-${e.type}`,style:`width: ${u.value}px`},[e.repeatNum])})()])}});let Kt=1;const A=Je([]),tt=p(I.zIndex);ve(A,(e,t)=>{if(e.length===0){tt.value=I.zIndex;return}console.log("message 新旧值相同?",e,t,e===t)});function ke(e){if(!e)throw console.error("Message > In the Message, the message or option is mandatory");if(typeof e!="string"&&!ge(e)&&typeof e!="function"&&typeof e=="object"&&!("message"in e))throw console.error("Message > In the Message, the message is mandatory");return typeof e=="string"||ge(e)||typeof e=="function"?{message:e}:e}function Qt(e,t){return typeof e=="string"?oe(t)*48+12:ge(e)?oe(t)*(Oe(e)+32)+12:typeof e=="function"?oe(t)*(Oe(e())+32)+12:0}function nt(e){const t=A.find(l=>l.id===e);if(!t)return;A.splice(t.props.index,1);const n=t.props.height;for(let l=t.props.index;l<A.length;l++)A[l].props.index--,A[l].props.top-=n;t._handler._close()}function en(e){if(A[0]){const t=A[A.length-1].props.height;return A[A.length-1].props.top+t}else return Math.pow(oe(e.size),2)*16}function tn(e){const t={};typeof e.message=="string"||ge(e.message)||typeof e.message=="function"?t.message=e.message:(console.warn("In the Message, the message is mandatory"),t.message=I.message),typeof e.type!="string"?t.type=I.type:Me.includes(e.type)?t.type=e.type:(console.warn(`Message > In the Message, the type must be one of ${Me}, but got ${e.type}`),t.type=I.type),typeof e.duration!="number"?t.duration=I.duration:t.duration=e.duration,typeof e.icon!="string"?t.icon=e.type||I.icon:t.icon=e.icon,typeof e.group!="boolean"?t.group=I.group:t.group=e.group,typeof e.size!="string"?t.size=I.size:t.size=e.size;let n;typeof e.beforeClose!="function"?n=I.beforeClose:n=e.beforeClose,typeof e.showClose!="boolean"?t.showClose=I.showClose:t.showClose=e.showClose,typeof e.onCloseClick!="function"?t.onCloseClick=I.onCloseClick:t.onCloseClick=e.onCloseClick;const l=document.createElement("div");return[{...t,repeatNum:I.repeatNum,height:Qt(t.message,t.size),onClose:o=>n(()=>{nt(o)}),onDestroy:()=>O(null,l)},l]}const Q=function(e){const t=ke(e),[n,l]=tn(t);if(n.group&&typeof n.message!="function"&&A.length>0&&!t.onCloseClick&&!t.beforeClose){const a=A.find(d=>(ge(n.message)?n.message.key&&d.props.message.key===n.message.key:d.props.message===n.message)&&d.props.type===n.type&&d.props.duration===n.duration&&d.props.icon===n.icon&&d.props.showClose===n.showClose);if(a)return a.props.repeatNum++,l.remove(),a.handler}const o=`__se_message__${Kt++}__`,s=en(n),r=i(Gt,{...n,repeatNum:1,index:A.length,zIndex:tt.value--,top:s,id:o});l.style.zIndex="9999",O(r,l),document.body.appendChild(l.firstElementChild);const c=r.component,u={id:o,vNode:r,vm:c,handler:{close:()=>{c.exposed.closeVisible()}},_handler:{_close:()=>{c.exposed.visible.value=!1}},props:r.component.props};return A.push(u),u.handler};Q.success=e=>Q({...ke(e),type:"success"});Q.warning=e=>Q({...ke(e),type:"warning"});Q.danger=e=>Q({...ke(e),type:"danger"});Q.info=e=>Q({...ke(e),type:"info"});Q.closeAll=()=>{A.forEach((e,t)=>{setTimeout(()=>{nt(e.id)},t*50)})};const il=Qe(Q,"$seMsg"),_={src:"",modal:!0,scaleStep:.5,minScale:1,maxScale:50,closeIcon:"close",toolbar:{zoom:!0,rotate:!0,flip:!0,reset:!0,download:!1,pagination:!0,show:!0},name:"",isAlbum:!1,albumList:[],loop:!0,animation:"slide",contextmenu:!1,closeOnClickModal:!0,closeOnPressEscape:!0,onError:()=>{},onSwitch:e=>e(),onOpen:e=>e(),onClose:e=>e()},Z={fit:"cover",alt:"",height:200,width:200,src:"",lazy:!1,rootClassName:"",contextmenu:!0,onError:()=>{},onLoad:()=>{},preview:_},nn={fit:{type:String,default:Z.fit},alt:{type:String,default:Z.alt},height:{type:[String,Number],default:Z.height},width:{type:[String,Number],default:Z.width},src:{type:String,default:Z.src,required:!0},lazy:{type:Boolean,default:Z.lazy},rootClassName:{type:String,default:Z.rootClassName},contextmenu:{type:Boolean,default:Z.contextmenu},onError:{type:Function,default:Z.onError},onLoad:{type:Function,default:Z.onLoad},preview:{type:[Boolean,Object],default:Z.preview}},ln={src:{type:String,default:_.src},modal:{type:Boolean,default:_.modal},scaleStep:{type:Number,default:_.scaleStep},minScale:{type:Number,default:_.minScale},maxScale:{type:Number,default:_.maxScale},closeIcon:{type:String,default:_.closeIcon},toolbar:{type:Object,default:_.toolbar},name:{type:String,default:_.name},isAlbum:{type:Boolean,default:_.isAlbum},albumList:{type:Array,default:_.albumList},loop:{type:Boolean,default:_.loop},animation:{type:String,default:_.animation},contextmenu:{type:[Boolean,Array],default:_.contextmenu},closeOnClickModal:{type:Boolean,default:_.closeOnClickModal},closeOnPressEscape:{type:Boolean,default:_.closeOnPressEscape},onError:{type:Function,default:_.onError},onSwitch:{type:Function,default:_.onSwitch},onOpen:{type:Function,default:_.onOpen},onClose:{type:Function,default:_.onClose},index:{type:Number,default:0},instance:{type:Object,default:{},required:!0}},on={show:{type:Boolean,default:_.toolbar.show},zoom:{type:Boolean,default:_.toolbar.zoom},rotate:{type:Boolean,default:_.toolbar.rotate},flip:{type:Boolean,default:_.toolbar.flip},reset:{type:Boolean,default:_.toolbar.reset},download:{type:[Boolean,Function],default:_.toolbar.download},pagination:{type:Boolean,default:_.toolbar.pagination},index:{type:Object,default:0},total:{type:Number,default:0}},Re=N({name:"se-img",props:on,directives:{inputAutoFocus:bt},setup(e,{emit:t,expose:n}){const l=p(),o={};["zoom","rotate","reset","flip","download","pagination"].forEach(m=>{o[m]=!!e[m]});const s=p(!1),r=p(!1),c=p(!1),u=p(!1),a=p(e.index.value+1),d=()=>{u.value||e.total===1||!e.pagination||(a.value=e.index.value+1,u.value=!0)},k=m=>{t("switch","next",m,a.value-1),u.value=!1},C=()=>{u.value=!1,a.value=e.index.value+1};return ye(()=>{t("exportToolbarWidth",parseFloat(getComputedStyle(l.value).width)+60),s.value=l.value.classList.contains("se-img-preview-toolbar-noModal"),ve(()=>e.index.value,m=>{setTimeout(()=>{c.value=!1,a.value=m,r.value||t("initToolbarLocation")},300)}),setTimeout(()=>{s.value&&(l.value.addEventListener("mouseleave",()=>{setTimeout(()=>{!c.value&&t("initToolbarLocation")},300),r.value=!1}),l.value.addEventListener("mouseenter",()=>{r.value=!0}))})}),n({_changeError:()=>{c.value=!1},_changeInput:d}),()=>i("div",{class:"se-img-preview-toolbar-root",ref:l},[i("ul",null,[o.zoom&&i("li",null,[i("button",{onClick:()=>t("zoom","out")},[i(F,{name:"zoom_out",iconSize:"16px",color:"#"},null)]),i("button",{onClick:()=>t("zoom","in")},[i(F,{name:"zoom_in",iconSize:"16px",color:"#"},null)])]),o.rotate&&i("li",null,[i("button",{onClick:()=>t("rotate","forward")},[i(F,{name:"rotate_left",iconSize:"16px",color:"#"},null)]),i("button",{onClick:()=>t("rotate","reverse")},[i(F,{name:"rotate_right",iconSize:"16px",color:"#"},null)])]),o.flip&&i("li",null,[i("button",{onClick:()=>t("flip","horizontal")},[i(F,{name:"flip_horizontally_card",iconSize:"16px",color:"#"},null)]),i("button",{onClick:()=>t("flip","vertical")},[i(F,{name:"flip_vertically_card",iconSize:"16px",color:"#"},null)])]),o.reset&&i("li",null,[i("button",{onClick:()=>t("reset")},[i(F,{name:"sync",iconSize:"16px",color:"#"},null)])]),o.download&&i("li",null,[i("button",{onClick:()=>t("download")},[i(F,{name:"down",iconSize:"16px",color:"#"},null)])]),e.total>1&&i("li",null,[i("button",{onClick:m=>{c.value||(t("switch","prev",m),!(e.index.value===0||e.index.value===e.total-1)&&(c.value=!0))}},[i(F,{name:"back",iconSize:"16px",color:"#"},null)]),i("button",{onClick:m=>{c.value||(t("switch","next",m),!(e.index.value===0||e.index.value===e.total-1)&&(c.value=!0))}},[i(F,{name:"right",iconSize:"16px",color:"#"},null)])]),s.value&&i("li",null,[i("button",{onClick:()=>t("close")},[i(F,{name:"close",iconSize:"16px",color:"#"},null)])]),o.pagination&&e.total>1&&i("li",null,[!u.value&&i("span",{onClick:d,class:"se-img-preview-toolbar-pagination"},[e.index.value+1,K(" / "),e.total]),u.value&&i("form",{onSubmit:k},[te(i("input",{type:"number",min:"1",max:e.total,value:e.index.value+1,onBlur:C,onFocus:m=>m.target&&m.target.select(),onInput:m=>a.value=m.target.value},null),[[_e("inputAutoFocus")]])])])])])}}),Ne={name:"",icon:"",onClick:()=>{},disabled:!1,hidden:!1,children:null,underDivider:!1},sn={contextmenu:{type:Array,default:[{...Ne}]},top:{type:Number,default:0},left:{type:Number,default:0}};function an(e){if(typeof e.name!="string"||typeof e.onClick!="function")throw console.error("Contextmenu > customize contextmenu item must have name and onClick");if(e.children&&!Array.isArray(e.children))throw console.error("Contextmenu > customize contextmenu item children must be array");if(e.children){const t=lt(e.children);return{...Ne,...e,children:t}}else return{...Ne,...e,children:null}}function lt(e){if(typeof e=="boolean")return e;if(!Array.isArray(e))throw console.error("Contextmenu > items must be array");return e.map(n=>an(n))}const rn=N({name:"se-contextmenu",props:sn,setup(e){return console.log("tsx",e),()=>i("div",{class:"se-contextmenu",style:`
                        top: ${e.top}px;
                        left: ${e.left}px
                    `},null)}}),ot={mounted(e,{value:t}){const n=lt(t);console.log("contextmenu mounted",n);const{render:l}=pe();let o=null;const s=[],r=(console.log("contextmenu mounted"),n===!1?u=>u.preventDefault():n===!0?()=>{}:u=>{u.preventDefault();const a=i(rn,{contextmenu:n,top:u.clientY,left:u.clientX});o&&o(),o=l(a),s[0]=a.el,console.log(s),console.log("contextmenu 自定义 contextmenu")}),c=typeof n=="boolean"?()=>{}:u=>{s.length!==0&&(console.log("contextmenu 自定义 clickOutside",u.target),o&&o(),o=null)};e.__contextmenu={contextmenuHandler:r,clickOutsideHandler:c},e.addEventListener("contextmenu",e.__contextmenu.contextmenuHandler),ze.mounted(e,{value:c,arg:s})},beforeUnmount(e){console.log("contextmenu beforeUnmount"),console.dir(e),e.removeEventListener("contextmenu",e.__contextmenu.contextmenuHandler),delete e.__contextmenu,ze.beforeUnmount(e)}};function un(e){const t=p({}),n=p("fill"),l=o=>{var s;"mask"in e.instance?(e.instance.mask[o]||(o=0),t.value=e.instance.mask[o].getBoundingClientRect(),n.value=((s=e.instance.mask[o].parentNode)==null?void 0:s.childNodes[0]).classList[1].split("-").pop()):(t.value={width:e.instance.location.width,height:e.instance.location.height,left:e.instance.location.x,top:e.instance.location.y},n.value="fill")};return l(e.index),{getPreviewStartLocation:l,rect:t,fit:n}}const cn="/selab-ui/assets/left.WP7HB1El.ico",dn="/selab-ui/assets/right.CWOfJL-J.ico",fn="/selab-ui/assets/close.7pJZCu6a.ico";function mn(e,t,n,l,o,{imgWidthOriginal:s,imgHeightOriginal:r},c,u){const{clientWidth:a,clientHeight:d}=document.documentElement,k=v=>{l.value||(v.clientX<a/2-s.value/2?t.index!==0||t.loop?o.value.style.cursor=`url(${cn}), auto`:o.value.style.cursor="not-allowed":v.clientX>a/2+s.value/2?t.index!==t.imgList.length-1||t.loop?o.value.style.cursor=`url(${dn}), auto`:o.value.style.cursor="not-allowed":e.closeOnClickModal?o.value.style.cursor=`url(${fn}), auto`:o.value.style.cursor="default")};function C(){if(l.value)return;const v=getComputedStyle(n),w=parseFloat(v.left),T=parseFloat(v.top),L=parseFloat(v.width),x=parseFloat(v.height);w<0&&L/2<a&&u.setStyleValue("left","0px"),w>a&&L/2<a&&u.setStyleValue("left",a+"px"),w+L/2<a/2&&L/2>a&&u.setStyleValue("left",a/2-L/2+"px"),w-L/2>a/2&&L/2>a&&u.setStyleValue("left",a/2+L/2+"px"),T<0&&x/2<d&&u.setStyleValue("top","0px"),T>d&&x/2<d&&u.setStyleValue("top",d+"px"),T+x/2<d/2&&x/2>d&&u.setStyleValue("top",d/2-x/2+"px"),T-x/2>d/2&&x/2>d&&u.setStyleValue("top",d/2+x/2+"px")}let m=!1;function E(v,w){if(l.value||m)return;const T=setTimeout(()=>{m=!1},200),L=getComputedStyle(n),x=parseFloat(L.width),R=parseFloat(L.height),ne=x/s.value;if(v==="out"&&Math.abs(ne-t.minScale)<.001||v==="in"&&Math.abs(ne-t.maxScale)<.001){T&&clearTimeout(T);return}m=!0;const H=parseFloat(L.left),we=parseFloat(L.top);let X=v==="in"?x*t.scaleStep:x/t.scaleStep,j=v==="in"?R*t.scaleStep:R/t.scaleStep;const ee=X/s.value;v==="out"&&ee<t.minScale&&(X=s.value*t.minScale,j=r.value*t.minScale),v==="in"&&ee>t.maxScale&&(X=s.value*t.maxScale,j=r.value*t.maxScale);const Y=w||[x/2,R/2],ae=v==="out"?x/X:X/x,ce=v==="out"?(Y[0]-x/2)/1-(Y[0]-x/2)/ae:(Y[0]-x/2)*(1-ae),Ie=H+ce,W=v==="out"?(Y[1]-R/2)/1-(Y[1]-R/2)/ae:(Y[1]-R/2)*(1-ae),q=we+W;u.setStyleValues({left:Ie+"px",top:q+"px",width:X+"px",height:j+"px",minWidth:X+"px"}),setTimeout(()=>{C()},300)}const $=[0,0];function b(v){l.value||($[0]=v.clientX,$[1]=v.clientY,window.addEventListener("mousemove",h),window.addEventListener("mouseup",f),u.setStyleValue("transition","all .3s ease-in-out, left 0s, top 0s"),u.setStyleValue("cursor","grabbing"))}function h(v){if(l.value)return;const w=v.clientX-$[0],T=v.clientY-$[1],L=getComputedStyle(n),x=parseFloat(L.left),R=parseFloat(L.top);u.setStyleValues({left:x+w+"px",top:R+T+"px"}),$[0]=v.clientX,$[1]=v.clientY}function f(){l.value||(window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",f),u.setStyleValue("transition",""),c.value.style.transition="",u.setStyleValue("cursor","grab"),setTimeout(()=>{C()}),t.modal||B())}const g=p(0);function B(){if(!l.value&&!t.modal){const v=getComputedStyle(n),w=parseFloat(v.left)||parseFloat(v.left);w>g.value/2+10&&w<a-g.value/2-10?c.value.style.left=w+"px":w<=g.value/2+10?c.value.style.left=g.value/2+10+"px":w>=a-g.value/2-10&&(c.value.style.left=a-g.value/2-10+"px")}}function y(v){if(l.value)return;const w=parseInt(n.style.transform.split("rotate(")[1].split("deg)")[0]),T=parseInt(n.style.transform.split("rotateY(")[1].split("deg)")[0]),L=parseInt(n.style.transform.split("rotateX(")[1].split("deg)")[0]),x=v==="reverse"?w+90:w-90;u.setStyleValue("transform",`translate(-50%, -50%) scale(1) rotate(${x}deg) rotateY(${T}deg) rotateX(${L}deg)`),setTimeout(()=>{(x===360||x===-360)&&(u.setStyleValue("transform",`translate(-50%, -50%) scale(1) rotate(0deg) rotateY(${T}deg) rotateX(${L}deg)`),u.setStyleValue("transition","none")),requestAnimationFrame(()=>{u.setStyleValue("transition","")})},300)}function D(v){if(l.value)return;const w=parseInt(n.style.transform.split("rotate(")[1].split("deg)")[0]),T=parseInt(n.style.transform.split("rotateY(")[1].split("deg)")[0]),L=parseInt(n.style.transform.split("rotateX(")[1].split("deg)")[0]);u.setStyleValues(v==="horizontal"?{transform:`translate(-50%, -50%) scale(1) rotate(${w}deg) rotateY(${T===180?0:180}deg) rotateX(${L}deg)`,left:"50vw",top:"50vh",width:s.value+"px",height:r.value+"px",minWidth:s.value+"px"}:{transform:`translate(-50%, -50%) scale(1) rotate(${w}deg) rotateY(${T}deg) rotateX(${L===180?0:180}deg)`,left:"50vw",top:"50vh",width:s.value+"px",height:r.value+"px",minWidth:s.value+"px"})}function z(){l.value||u.setStyleValues({transform:"translate(-50%, -50%) scale(1) rotate(0deg) rotateY(0deg) rotateX(0deg)",left:"50vw",top:"50vh",width:s.value+"px",height:r.value+"px",minWidth:s.value+"px"})}return{changeMouse:k,checkImg:C,scaleImg:E,mouseDown:b,mouseMove:h,mouseUpLeave:f,toolbarWidth:g,initToolbarLocation:B,rotateImg:y,flipImg:D,resetImg:z}}const vn=N({name:"se-img-previewMsg",props:{message:{type:String,default:"",required:!0},type:{type:String,default:"info"},duration:{type:Number,default:1e3},location:{type:Object,default:()=>({x:"50%",y:"50%"})}},setup(e,{expose:t}){const n=p();return ye(()=>{setTimeout(()=>{n.value.style.opacity="0",setTimeout(()=>{n.value.parentNode.remove()},300)},e.duration)}),t({_close:()=>{n.value.style.opacity="0",setTimeout(()=>{n.value.parentNode.remove()},300)}}),()=>i("div",{ref:n,class:`se-msg-mini se-msg-mini-${e.type}`,style:`left:${e.location.x};top:${e.location.y}; width: ${Se(e.message)}px;`},[e.message])}});let Le;function gn(e,t,n){const{x:l,y:o}=e,s=Se(t);let r,c;n?(r=(n==null?void 0:n.parentNode).clientWidth,c=(n==null?void 0:n.parentNode).clientHeight):(r=document.documentElement.clientWidth,c=document.documentElement.clientHeight);let u,a;return typeof l=="number"?s/2+20>l?u=s/2+20+"px":s/2+20+l>r?u=r-s/2-20+"px":u=l+"px":l.match(/^[0-9]+$/)?s/2+20>parseInt(l)?u=s/2+20+"px":s/2+20+parseInt(l)>r?u=r-s/2-20+"px":u=l+"px":u=l,typeof o=="number"?18>o?a="18px":18+o>c?a=c-18+"px":a=o+"px":o.match(/^[0-9]+$/)?18>parseInt(o)?a="18px":18+parseInt(o)>c?a=c-18+"px":a=o+"px":a=o,{x:u,y:a}}const xe=function({message:e,type:t="info",duration:n=1e3,location:l,root:o}){Le&&Le();const s=gn(l,e,o||null),r=document.createElement("div");r.className="se-msg-mini-root",o||pe().mountDiv(r);const c=i(vn,{message:e,type:t,duration:n,location:s});O(c,r),Le=()=>{c.component.exposed._close()}};function hn(e,t,n,l,o,s,{imgWidthOriginal:r,imgHeightOriginal:c},u,a){const{clientWidth:d,clientHeight:k}=document.documentElement;function C($,b,h){if(l.value)return;let f,g;if(t.modal?(f=h.clientX||"50vw",g=h.clientY||"50vh"):(f="50vw",g="50vh"),b==="isFirst"||b==="isLast"){xe({message:b==="isFirst"?"已经是第一张了":"已经是最后一张了",type:"warning",location:{x:f,y:g},duration:1e3});return}else if(b==="itIs"){xe({message:"已经是当前图片了",type:"warning",location:{x:f,y:g},duration:1e3});return}else if(b===!1){xe({message:"错误的图片下标",type:"warning",location:{x:f,y:g},duration:1e3});return}const B=t.index;let y=null;if(t.animation!=="none"){const w=a.getStyleValue("left"),T=a.getStyleValue("top"),L=a.getStyleValue("width"),x=a.getStyleValue("height"),R=a.getStyleValue("transform"),ne=i("img",{src:t.imgList[B],style:{position:"absolute",transition:"all 0.3s ease-in-out",width:L,height:x,minWidth:L,left:w,top:T,transform:R},class:"se-img-preview-img-item",id:"se-oldImg-preview-item"}),H=document.createElement("div");H.style.position="fixed",H.style.transition="all 0.3s ease-in-out",H.style.left="0px",H.style.top="0px",H.style.zIndex="999",O(ne,H);const X=pe().mountDiv(H);requestAnimationFrame(()=>{const j=H.childNodes[0];function ee(){j.style.left="50vw",j.style.top="50vh",j.style.width=r.value+"px",j.style.height=c.value+"px",j.style.minWidth=r.value+"px",j.style.transform="translate(-50%, -50%) scale(1) rotate(0deg) rotateY(0deg) rotateX(0deg)"}t.modal&&u(h),y=t.animation==="fade"?(Y=!1)=>{setTimeout(X,300),!Y&&(ee(),H.style.opacity="0")}:t.animation==="slide"?(Y=!1)=>{setTimeout(X,300),!Y&&(ee(),H.style.left=$==="prev"?"150vw":"-150vw")}:ee})}const D=new Image;D.src=t.imgList[b];let z=0,v=0;D.onload=()=>{z=D.width,v=D.height;const w=Math.min(d/z,k/v)/1.4;a.setStyleValues({width:z*w+"px",height:v*w+"px",minWidth:z*w+"px",left:"50vw",top:"50vh",transform:"translate(-50%, -50%) scale(1) rotate(0deg) rotateY(0deg) rotateX(0deg)"}),t.animation!=="none"&&(a.setStyleValue("transition","none"),t.animation==="fade"?a.setStyleValue("opacity","0"):t.animation==="slide"&&a.setStyleValue("left",$==="prev"?"-150vw":"150vw"),requestAnimationFrame(()=>{a.setStyleValue("transition",""),t.animation==="fade"?a.setStyleValue("opacity",""):t.animation==="slide"&&a.setStyleValue("left","50vw"),y&&y(),y=null})),n.src=t.imgList[b],r.value=z*w,c.value=v*w,t.index=b,o.value=b,setTimeout(()=>{var T;(T=document.getElementById("se-oldImg-preview-item"))==null||T.remove()},300)},D.onerror=()=>{throw y&&y(!0),s.value&&s.value.component.exposed._changeError(),console.error(`Img Preview > 图片加载失败: ${t.imgList[b]}`)}}const m=p(!1);function E($,b,h){if(l.value||m.value)return;const f=setTimeout(()=>{m.value=!1},300);m.value=!0;const g=t.index,B=t.imgList.length;let y;typeof h!="number"&&t.loop?$==="prev"?y=g===0?B-1:g-1:y=g===B-1?0:g+1:typeof h!="number"&&!t.loop?$==="prev"&&g!==0?y=g-1:$==="next"&&g!==B-1?y=g+1:$==="prev"&&g===0?y="isFirst":$==="next"&&g===B-1?y="isLast":y=!1:typeof h=="number"?h>=0&&h<B&&h!==g?(y=h,y>g?$="next":$="prev"):h===g?y="itIs":y=!1:y=!1,y===!1&&(f&&clearTimeout(f),m.value=!1);const D=()=>{C($,y,b)};if(typeof e.onSwitch=="function")e.onSwitch(D,y);else throw console.error("TypeError onSwitch is not a function")}return{changeImg:C,userChangeImg:E,isChanging:m}}function pn(e,t,n){const{clientWidth:l,clientHeight:o}=document.documentElement;function s(){n.value||(typeof e.toolbar.download=="function"&&e.toolbar.download({index:t.index,src:t.imgList[t.index],srcList:t.imgList,name:e.name}),e.toolbar.download===!1&&xe({message:"未开放下载",type:"info",location:{x:l/2,y:o-100},duration:1e3}))}return{userDownload:s}}function yn(){const e=De({});function t(s,r){e.value={...e.value,[s]:r}}function n(s){e.value={...e.value,...s}}function l(s){return e.value[s]||""}function o(s){const r=e.value;delete r[s],e.value=r}return{styleValue:e,setStyleValue:t,setStyleValues:n,getStyleValue:l,deleteStyleValue:o}}const wn=N({name:"se-img-preview",props:ln,directives:{contextmenu:ot},setup(e,{expose:t}){const n={openIndex:e.index,index:e.index,imgList:e.albumList,loop:e.loop,animation:e.animation,modal:e.modal,scaleStep:e.scaleStep+1,minScale:e.minScale,maxScale:e.maxScale,closeIcon:e.closeIcon,"close-on-click-modal":e.closeOnClickModal,"close-on-press-escape":e.closeOnPressEscape},{rect:l,fit:o,getPreviewStartLocation:s}=un(e),r=p(n.index),c=p(),u=p(),a=p(),d=p(0),k=p(0),C=S(()=>ge(n.closeIcon)?n.closeIcon:i(F,{name:n.closeIcon,color:"#fff",iconSize:"16px"})),m=S(()=>{let z="";return e.isAlbum?z+=`这是相册中的第${r.value+1}张图片`:z+=`这是图片组中的第${r.value+1}张图片`,z}),E=yn(),{styleValue:$,setStyleValues:b}=E;b({"object-fit":o.value,width:`${l.value.width}px`,height:`${l.value.height}px`,minWidth:`${l.value.width}px`,left:`${l.value.left}px`,top:`${l.value.top}px`,transform:"translate(0, 0) scale(1) rotate(0deg) rotateY(0deg) rotateX(0deg)"});let h;const f=p(!1);function g(){if(f.value)return;if(f.value=!0,n.modal&&"mask"in e.instance&&(!e.isAlbum||e.isAlbum&&n.openIndex===n.index))s(n.index),b({"object-fit":o.value,width:`${l.value.width}px`,height:`${l.value.height}px`,minWidth:`${l.value.width}px`,left:`${l.value.left}px`,top:`${l.value.top}px`,transform:"translate(0, 0) scale(1) rotate(0deg) rotateY(0deg) rotateX(0deg)"});else{const{clientWidth:v,clientHeight:w}=document.documentElement;b({"object-fit":o.value,width:`${d.value}px`,height:`${k.value}px`,minWidth:`${d.value}px`,left:`${v/2}px`,top:`${w/2}px`,transform:"translate(-50%, -50%) scale(0.2) rotate(0deg) rotateY(0deg) rotateX(0deg)",opacity:"0"})}e.modal&&(c.value.style.opacity="0");const z=document.querySelector(".se-img-preview-close");z&&(z.style.opacity="0"),(e.toolbar.show||!n.modal)&&(a.value.style.transform="translateX(-50%) translateY(50%)",a.value.style.opacity="0"),document.removeEventListener("keydown",B)}const B=z=>{z.key==="Escape"&&y()};function y(){const z=()=>{Fe()};if(typeof e.onClose=="function")e.onClose(z);else throw new TypeError("onClose is not a function")}const D=p({});return ye(()=>{const z=new Image;z.src=n.imgList[n.index];let v=0,w=0;const{clientWidth:T,clientHeight:L}=document.documentElement;z.onload=()=>{v=z.width,w=z.height;const W=Math.min(T/v,L/w)/1.4,q=D.value;if(b({"object-fit":o.value,width:`${v*W}px`,height:`${w*W}px`,minWidth:`${v*W}px`,left:"50vw",top:"50vh",transform:"translate(-50%, -50%) scale(1) rotate(0deg) rotateY(0deg) rotateX(0deg)"}),"location"in e.instance&&q.classList.add("se-img-preview-img-only-preview"),d.value=v*W,k.value=w*W,q.addEventListener("wheel",U=>{if(f.value)return;const de=U.clientX-q.getBoundingClientRect().left,be=U.clientY-q.getBoundingClientRect().top;ne(U.deltaY>0?"out":"in",[de,be])},{passive:!0}),q.addEventListener("mousedown",H),q.addEventListener("dragstart",U=>{U.preventDefault()}),e.modal)c.value&&c.value.addEventListener("click",U=>{if(U.clientX<T/2-d.value/2){ce("prev",U);return}if(U.clientX>T/2+d.value/2){ce("next",U);return}e.closeOnClickModal&&y()}),c.value.addEventListener("mousemove",R);else{let U="";q.addEventListener("mousemove",()=>{document.body.style.overflow!=="hidden"&&(f.value&&de(null),U=document.body.style.overflow||"",document.body.style.overflow="hidden")});const de=be=>{be&&"key"in be&&be.key!=="Escape"||(setTimeout(()=>{document.body.style.overflow=U}),document.removeEventListener("keydown",de))};q.addEventListener("mouseleave",de),document.addEventListener("keydown",de)}e.closeOnPressEscape&&document.addEventListener("keydown",B)};const x=p(null),{changeMouse:R,scaleImg:ne,mouseDown:H,toolbarWidth:we,initToolbarLocation:X,rotateImg:j,flipImg:ee,resetImg:Y}=mn(e,n,D.value,f,c,{imgWidthOriginal:d,imgHeightOriginal:k},a,E),{userDownload:ae}=pn(e,n,f),{userChangeImg:ce,isChanging:Ie}=hn(e,n,D.value,f,r,x,{imgWidthOriginal:d,imgHeightOriginal:k},R,E);e.toolbar.show?(x.value=i(Re,{...e.toolbar,index:r,total:n.imgList.length,pagination:n.imgList.length>1?e.toolbar.pagination:!1,download:!!e.toolbar.download,onZoom:ne,onRotate:j,onFlip:ee,onReset:Y,onSwitch:ce,onDownload:ae,onClose:y,onExportToolbarWidth:W=>{we.value=W},onInitToolbarLocation:X,class:n.modal?"":"se-img-preview-toolbar-noModal"}),O(x.value,a.value)):!e.toolbar.show&&!e.modal&&(x.value=i(Re,{index:r,total:n.imgList.length,zoom:!1,rotate:!1,flip:!1,reset:!1,pagination:!1,download:!1,onZoom:ne,onRotate:j,onFlip:ee,onReset:Y,onSwitch:ce,onDownload:ae,onClose:y,onExportToolbarWidth:W=>{we.value=W},onInitToolbarLocation:X,class:n.modal?"":"se-img-preview-toolbar-noModal"}),O(x.value,a.value)),h=W=>{var q;W.key==="Tab"&&!Ie.value&&(W.preventDefault(),x.value&&((q=x.value)==null||q.component.exposed._changeInput()))},We.on("keydown",h)}),Ze(()=>{We.off("keydown",h)}),t({_close:()=>{g()}}),()=>i("div",{class:"se-img-preview"},[e.modal&&i("div",{class:"se-img-preview-mask",ref:c},null),i("div",{class:"se-img-preview-img",ref:u},[te(i("img",{src:n.imgList[n.index],style:$.value,class:`se-img-preview-img-item ${e.modal?"se-img-preview-img-item-modal":"se-img-preview-img-item-noModal"}`,onError:e.onError,onLoad:()=>{},ref:D,alt:m.value},null),[[_e("contextmenu"),e.contextmenu]])]),i("div",{class:"se-img-preview-toolbar",ref:a},null),e.modal&&i("div",{class:"se-img-preview-close",onClick:y},[C.value])])}}),ue=Je([]),ie=De(null),Pe=De(null);function bn(e){return e.isAlbum&&(!e.albumList||e.albumList.length===0)?(console.error("Image Preview > AlbumList is empty but it is must for album."),!1):e.scaleStep<=0?(console.error("Image Preview > ScaleStep must be greater than 0."),!1):e.minScale<=0?(console.error("Image Preview > MinScale must be greater than 0."),!1):e.maxScale<1?(console.error("Image Preview > MaxScale must be greater than 1."),!1):e.minScale>=e.maxScale?(console.error("Image Preview > MinScale must be less than MaxScale."),!1):!0}function xn(e){if(typeof e.preview=="boolean")return e.preview?{..._,albumList:[e.src],src:e.src,name:Math.floor(Math.random()*999999999999999).toString(36),toolbar:{..._.toolbar}}:!1;{const t=ue.length!==0&&e.preview.name!==""&&ue.find(o=>{if(o.preview.name===e.preview.name){if(o.preview.isAlbum)throw console.error(`Image Preview > Img album name can't repeat, but name "${o.preview.name}" is repeat.`);o.preview.albumList.push(e.preview.src||e.src)}});if(t)return t.preview;const n=e.preview.name||Math.floor(Math.random()*999999999999999).toString(36);return e.preview.isAlbum||(e.preview.albumList=[],e.preview.albumList.push(e.preview.src||e.src)),{..._,...e.preview,name:n}}}function kn(e,t,n){if(!bn(e))throw console.error("Image Preview > Preview config is error.");if(t&&!(n instanceof HTMLElement)){const l={preview:{...e,toolbar:{...e.toolbar}},root:pe(),toolbar:{...e.toolbar},open:o=>{if(o>=l.preview.albumList.length||o<0){console.error("Image Preview > Index out of range.");return}Be(l,o)},vNode:null,location:n};return l}else if(t&&n instanceof HTMLElement)throw console.error("Image Preview > Temporary preview must provide location.");if(!t&&!(n instanceof HTMLElement))throw console.error("Image Preview > Mask HTMLElement is null.");if(!t&&n instanceof HTMLElement){const l=ue.find(s=>{if(s.preview.name===e.name)return s.mask.push(n),s});if(l)return n.addEventListener("click",l.clickMask),l;const o={preview:{...e,toolbar:{...e.toolbar}},mask:[n],root:pe(),toolbar:{...e.toolbar},clickMask:s=>{var a;const r=d=>{Be(o,d)};if(!e.isAlbum){o.mask.find((d,k)=>{d.contains(s.target)&&o.preview.onOpen(()=>r(k))});return}const c=((a=s.target.parentNode)==null?void 0:a.childNodes[0]).src,u=e.albumList.findIndex(d=>{const k=i("img",{src:d}),C=document.createElement("div");O(k,C);const m=c===k.el.src;return O(null,C),C.remove(),m});u===-1?o.preview.onOpen(()=>r(0)):o.preview.onOpen(()=>r(u))},vNode:null};return ue.push(o),n.addEventListener("click",o.clickMask),o}throw console.error("Image Preview > Unknown error.")}function Cn(e,t){ue.find(n=>{n.preview.name===e.name&&n.mask.find((l,o)=>{l===t&&(l.removeEventListener("click",n.clickMask),n.mask.splice(o,1),n.preview.isAlbum||n.preview.albumList.splice(o,1),(n.mask.length===0||n.preview.isAlbum)&&ue.splice(ue.findIndex(s=>s===n),1))})})}let st="";function Be(e,t=0){if(ie.value===e||Pe.value===e)return;if(t>=e.preview.albumList.length)throw console.error(`Image Preview > Index out of range, index: ${t}, page: ${t+1}, albumList: ${e.preview.albumList.length}`);Fe(),e.vNode=i(wn,{...e.preview,index:t,instance:e}),e.preview.modal&&document.body.style.overflow!=="hidden"&&(st=document.body.style.overflow||"",document.body.style.overflow="hidden");const n=document.createElement("div");n.className="se-img-preview-direct-root","mountDiv"in e.root&&typeof e.root.mountDiv=="function"&&e.root.mountDiv(n),O(e.vNode,n),ie.value=e,e.root=n}function Fe(){var t;if(!ie.value)return;const e=ie.value;Pe.value=e,e.preview.modal&&setTimeout(()=>{ie.value&&ie.value.preview.modal||(document.body.style.overflow=st)},300),ie.value=null,e.vNode&&((t=e.vNode.component.exposed)==null||t._close()),setTimeout(()=>{O(null,e.root),e.vNode=null,e.root.remove(),e.root=pe(),Pe.value=null},300)}const Sn="/selab-ui/assets/lazy.3fhvB0R7.png",$n=N({name:"se-img",props:nn,setup(e,{slots:t,attrs:n,expose:l}){const o=S(()=>{const{fit:b}=e;return{"se-img":!0,[`se-img-fit-${b}`]:!0}}),s=new IntersectionObserver(b=>{b.forEach(h=>{if(h.isIntersecting){const f=h.target;f.src=f.dataset.src,f.removeAttribute("data-src"),s.unobserve(f)}})},{threshold:.01}),r=S(()=>e.lazy?Sn:e.src);function c(b){var h,f;a.value=!1,d.value=!1,(h=m==null?void 0:m.value)==null||h.remove(),(f=e.onError)==null||f.call(e,b)}function u(b){var h;e.lazy&&C.value.dataset.src||(a.value=!0,d.value=!1,(h=e.onLoad)==null||h.call(e,b))}const a=p(!1),d=p(!0);let k;const C=p();let m,E,$;return e.preview&&(m=p()),ye(()=>{var b;k=xn(e),k&&(E=kn(k,!1,m.value),k.isAlbum?$=k.albumList.indexOf(e.src):$=E.mask.indexOf(m.value),$===-1&&($=0)),e.lazy&&(C.value.setAttribute("data-src",e.src),s.observe(C.value)),e.contextmenu||(C.value.addEventListener("contextmenu",h=>{h.preventDefault()}),(b=m.value)==null||b.addEventListener("contextmenu",h=>{h.preventDefault()}))}),Ze(()=>{k&&Cn(k,m.value),e.lazy&&s.unobserve(C.value)}),l({openPreview:e.preview?()=>{Be(E,$)}:()=>{console.warn(`Img Preview > ${e.src} 未开启预览功能`)},closePreview:()=>{Fe()}}),()=>i("div",{class:`se-img-root ${e.rootClassName}`,style:`width:${e.width}px;height:${e.height}px`},[i("img",ut({ref:C,class:o.value,style:`width:${e.width}px;height:${e.height}px`,src:r.value,alt:e.alt,onError:c,onLoad:u},n),null),d.value&&i("div",{class:"se-img-loading",style:`width:${e.width}px;height:${e.height}px`},[t.loading?t.loading():i("span",{class:"se-img-loading-content"},[K("加载中")])]),!d.value&&!a.value&&i("div",{class:"se-img-error",style:`width:${e.width}px;height:${e.height}px`},[t.error?t.error():i("span",{class:"se-img-error-content"},[K("加载失败")])]),e.preview&&i("div",{class:"se-img-mask",style:`width:${e.width}px;height:${e.height}px`,ref:m},[t.mask?t.mask():i("span",{class:"se-img-mask-content"},[K("预览")])])])}}),rl=Ke($n),_n=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),ul=_n(F),cl=Qe(xe,"$seMiniMsg"),In=N({name:"se-tooltip",props:{type:String,color:{type:String,default:"black"},mouseEnterDelay:{type:Number,default:.1/1e3},mouseLeaveDelay:{type:Number,default:.1/1e3},trigger:{type:String,default:"hover"}},directives:{clickOutside:ze},setup(e,{slots:t}){const n=S(()=>e.type?{["se-tooltip--"+e.type]:!0}:{}),l=p(!1),o=e.color,s=e.trigger,r=()=>/#/.test(o),c=()=>{if(r())return{backgroundColor:o}},u=()=>{if(r())return{content:"",position:"absolute",top:0,left:"50%",transform:"translate(-50%, -100%)",width:0,height:0,border:"8px solid",borderColor:`transparent transparent ${o} transparent`}},a=e.mouseEnterDelay,d=e.mouseLeaveDelay,k=()=>{s==="hover"&&!l.value&&setTimeout(()=>{l.value=!0},a*1e3)},C=()=>{s==="hover"&&l.value&&setTimeout(()=>{l.value=!1},d*1e3)},m=()=>{s==="focus"&&(l.value=!0)},E=()=>{s==="focus"&&(l.value=!1)},$=()=>{s==="click"&&(l.value=!l.value)},b=()=>{s==="click"&&l.value&&(l.value=!1)},h=S(()=>l.value?100:-1);return()=>te(i("div",{class:`se-tooltip ${n.value?Object.keys(n.value).join(" "):""}`,onMouseenter:k,onMouseleave:C,onFocus:m,onBlur:E,onClick:$},[i("div",{class:"se-tooltip-text"},[t.default&&t.default()]),i(Ge,{enterFromClass:"fade-enter-from",enterActiveClass:"fade-enter-active",leaveToClass:"fade-leave-to",leaveActiveClass:"fade-leave-active"},{default:()=>[te(i("div",{class:"se-tooltip-content",style:`z-index: ${h.value};`},[i("div",{class:"se-tooltip-arrow"},[i("span",{class:["se-tooltip-arrow-content",r()?"":`se-tooltip-arrow-${o}`],style:u()},null)]),i("div",{class:["se-tooltip-inner",r()?"":`se-tooltip-inner-${o}`],style:c()},[t.title&&t.title()])]),[[Ce,l.value]])]})]),[[_e("click-outside"),b]])}}),Ln=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),dl=Ln(In),fl=et(ot,"contextmenu"),En={title:{type:String,default:"提示"},width:{type:String,default:"30%"},top:{type:String,default:"15vh"},visible:{type:Boolean,default:!0},closeable:{type:Boolean,default:!1}},Vn={class:"se-dialog_header"},Tn={class:"se-dialog_title"},zn={class:"se-dialog_body"},Mn={key:0,class:"se-dialog_footer"},Nn=N({name:"se-dialog",__name:"dialog",props:En,emits:["close"],setup(e,{emit:t}){const n=e,l=t,o=()=>{l("close",!1)},s=qe();return(r,c)=>(M(),ct(Ge,{name:"dialog-fade"},{default:dt(()=>[te(V("div",{class:"se-dialog_wrapper",onClick:Te(o,["self"])},[V("div",{class:"se-dialog",style:me({width:n.width,marginTop:n.top})},[V("div",Vn,[le(r.$slots,"title",{},()=>[V("span",Tn,re(n.title),1)]),n.closeable?(M(),P("span",{key:0,class:"se-dialog_headerbtn",onClick:o},[Ue(s).closeIcon?le(r.$slots,"closeIcon",{key:0}):(M(),P(fe,{key:1},[K(" x ")],64))])):se("",!0)]),V("div",zn,[le(r.$slots,"default",{},()=>[K(" 默认信息 ")])]),r.$slots.footer?(M(),P("div",Mn,[le(r.$slots,"footer")])):se("",!0)],4)],512),[[Ce,n.visible]])]),_:3}))}}),Pn=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),ml=Pn(Nn),Bn=N({name:"se-rate-star",props:{type:String},setup(e){return()=>i("li",{class:["se-rate-star"]},[i("div",null,[i("div",{class:"se-rate-star-first"},[i("span",{class:["action","iconfont","icon-star"]},null)]),i("div",{class:"se-rate-star-second"},[i("span",{class:["action"]},null)])])])}}),Dn=N({name:"se-rate",props:{type:String},setup(e){const t=S(()=>e.type?{["se-rate--"+e.type]:!0}:{});return()=>i("ul",{class:`se-rate ${t.value?Object.keys(t.value).join(" "):""}`},[new Array(5).fill(0).map(()=>i(Bn,null,null))])}}),An=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),vl=An(Dn),Ee={activeValue:{type:Boolean,default:!0},inactiveValue:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},size:{type:String,default:"default"},type:{type:String,default:"default"},inactiveText:{type:String,default:""},activeText:{type:String,default:""},switchDisabled:{type:Boolean,default:!1}},Fn={"update:modelValue":e=>!0,change:(e,t)=>!0},Hn={class:"se-switch-external"},Wn=["disabled","checked","true-value","false-value"],On=N({name:"se-switch",__name:"switch",props:Ee,emits:Fn,setup(e,{emit:t}){const n=t,l=e,o=S(()=>l.size!="large");p(!0);const s=S(()=>({["se-switch--"+Ee.type]:Ee.type})),r=S(()=>l.modelValue===l.activeValue);function c(a){console.log("modelValue",l.modelValue);const d=r.value?l.activeValue:l.inactiveValue;console.log("这是什么东西"+d),n("update:modelValue",!l.modelValue),console.log("modelValue2",l.modelValue),n("change",d,a)}const u=p(l.modelValue);return ve(()=>l.modelValue,a=>{console.log("switchDisabled",l.switchDisabled),u.value=a}),(a,d)=>(M(),P("div",Hn,[V("span",{class:G(["se-switch-frontText",[{activeText:!a.modelValue},{showText:a.inactiveText===""}]])},re(l.inactiveText),3),V("div",{class:G(["se-switch",s.value])},[V("label",{class:G(["switch",["se-switch",`se-switch--${a.type}`,{"se-switch--large":a.size==="large"}]])},[le(a.$slots,"default"),V("input",{type:"checkbox",disabled:l.switchDisabled,checked:r.value,"true-value":a.activeValue,"false-value":a.inactiveValue,onChange:c,value:"{{props.modelValue}}"},null,40,Wn),V("div",{class:G(["round",["slider",{"se-slider":o.value},{"se-slider--large":a.size==="large"},{"se-slider-forbidden":a.switchDisabled}]])},null,2)],2)],2),V("span",{class:G(["se-switch-followText",[{activeText:a.modelValue},{showText:a.activeText===""}]])},re(l.activeText),3)]))}}),Rn=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),gl=Rn(On),Xn={size:{type:String,default:""},options:{type:Array,default:()=>[]},name:{type:String,default:""},disabled:{type:Boolean,default:!1}},jn=N({name:"se-radio",props:Xn,setup(e,{slots:t}){const n=S(()=>e.size?{["se-radio--"+e.size]:!0}:{}),l=p(null),o=s=>{l.value=s};return()=>i("div",{class:`se-radio ${n.value?Object.keys(n.value).join(" "):""}`},[e.options.map((s,r)=>i("label",{key:r,class:"se-radio-label"},[te(i("input",{type:"radio",name:`se-radio-group${e.name?e.name:""}`,class:`se-radio-round ${e.disabled?"disabled":""}`,value:s,"onUpdate:modelValue":c=>l=c,onChange:()=>o(s),disabled:e.disabled},null),[[ft,l]]),i("p",{class:`se-radio-text ${e.disabled?"disabled":""}`},[s])])),t.default&&t.default()])}}),Yn=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),hl=Yn(jn),qn={modelValue:{type:Array,default:()=>[]},options:{type:Array,required:!0},size:{type:String,default:"middle"},disabled:{type:Boolean,default:!1},checkAllText:{type:String,default:"全选"},checkClearText:{type:String,default:"清除"}},Un=N({name:"se-checkbox",props:qn,setup(e,{slots:t,emit:n}){const l=p(e.modelValue||[]),o=S(()=>e.size?`se-checkbox--${e.size}`:"");ve(()=>e.modelValue,u=>{l.value=u||[]});const s=u=>{const a=l.value.indexOf(u);a===-1?l.value.push(u):l.value.splice(a,1),n("update:modelValue",l.value),n("change",l.value)},r=()=>{l.value=[...e.options],n("update:modelValue",l.value)},c=()=>{l.value=[],n("update:modelValue",l.value)};return()=>i("div",{class:`se-checkbox ${o.value}`},[i("div",{class:"se-checkbox-select-all"},[i("button",{type:"button",onClick:r,disabled:e.disabled||l.value.length===e.options.length},[e.checkAllText]),i("button",{type:"button",onClick:c,disabled:e.disabled||l.value.length===0},[K("清除")])]),e.options.map((u,a)=>i("label",{key:a,class:"se-checkbox-label"},[i("input",{type:"checkbox",class:`se-checkbox-square ${e.disabled?"disabled":""}`,value:u,checked:l.value.includes(u),onChange:()=>s(u),disabled:e.disabled},null),i("span",{class:`se-checkbox-text ${e.disabled?"disabled":""}`},[u])])),t.default&&t.default()])}}),Jn=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),pl=Jn(Un),Zn=N({name:"se-Slider",props:{type:String},setup(e,{slots:t}){const n=S(()=>e.type?{["se-Slider--"+e.type]:!0}:{});return()=>i("div",{class:`se-Slider ${n.value?Object.keys(n.value).join(" "):""}`},[t.default&&t.default()])}}),yl=Ke(Zn),$e=e=>{switch(e.length){case 3:return e[0]+e[0]+e[1]+e[1]+e[2]+e[2];case 0:case 1:case 2:case 4:case 5:return $e("0"+e);case 6:return e;case 7:return $e(e+"0");case 8:return e;default:throw console.error("Edge Progress > Invalid color")}},Xe=new Set(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"]);function je(e){if(typeof e>"u")return{color:"#0066ff",strokeWidth:"3px",position:"top"};if(typeof e=="string"){const[t,n,l]=e.split(" "),o="#"+$e((t||"#0066ff").replace("#","")).split("").map(c=>{if(Xe.has(c))return c;throw console.error("Edge Progress > Invalid color")}).join(""),s=n?n.length===parseInt(n).toString().length?n+"px":isNaN(parseInt(n))?"3px":n:"3px";return{color:o,strokeWidth:s,position:l&&(l==="top"||l==="bottom")?l:"top"}}else return{color:"#"+$e((e.color||"#0066ff").replace("#","")).split("").map(t=>{if(Xe.has(t))return t;throw console.error("Edge Progress > Invalid color")}).join(""),strokeWidth:typeof e.strokeWidth=="string"?e.strokeWidth.length===parseInt(e.strokeWidth).toString().length?e.strokeWidth+"px":e.strokeWidth:typeof e.strokeWidth=="number"?e.strokeWidth+"px":"5px",position:e.position&&(e.position==="top"||e.position==="bottom")?e.position:"top"}}function Ye(e,t){return e>=100?`calc(100% + ${$t(t)/2}px)`:e<0?"0%":`${e}%`}const Gn={mounted(e,{value:t,arg:n}){if(getComputedStyle(e,"::before").content!=="none"){console.warn("Edge Progress > ::before has been set.",e);return}getComputedStyle(e).overflowX!=="hidden"&&console.warn("Edge Progress > overflow-x is not hidden. May overflow from the box when progress reaches 100%.",e);const{color:s,strokeWidth:r,position:c}=je(n);getComputedStyle(e).position==="static"&&(e.style.position="relative"),e.classList.add("se-edge-progress"),e.style.setProperty("--se-edge-progress-top",c==="top"?"0":"auto"),e.style.setProperty("--se-edge-progress-bottom",c==="bottom"?"0":"auto"),e.style.setProperty("--se-edge-progress-width",Ye(t,r)),e.style.setProperty("--se-edge-progress-height",r),e.style.setProperty("--se-edge-progress-color",s)},updated(e,{value:t,arg:n}){if(!e.classList.contains("se-edge-progress"))return;const{color:o,strokeWidth:s,position:r}=je(n);e.style.setProperty("--se-edge-progress-top",r==="top"?"0":"auto"),e.style.setProperty("--se-edge-progress-bottom",r==="bottom"?"0":"auto"),e.style.setProperty("--se-edge-progress-width",Ye(t,s)),e.style.setProperty("--se-edge-progress-height",s),e.style.setProperty("--se-edge-progress-color",o)}},wl=et(Gn,"edge-progress"),Kn=N({name:"se-table",props:{rows:{type:Array,required:!0},rowHeight:{type:Number,default:50},visibleCount:{type:Number,default:10}},setup(e,{slots:t}){const n=p(0),l=S(()=>Math.floor(n.value/e.rowHeight)),o=S(()=>l.value+e.visibleCount),s=S(()=>e.rows.slice(l.value,o.value)),r=S(()=>e.rows.length*e.rowHeight),c=u=>{const a=u.target;n.value=a.scrollTop};return ye(()=>{console.log("SeTable mounted")}),()=>i("div",{class:"se-table-container",onScroll:c},[i("div",{class:"se-table-spacer",style:{height:`${r.value}px`}},null),i("div",{class:"se-table-viewport",style:{transform:`translateY(${l.value*e.rowHeight}px)`}},[s.value.map((u,a)=>i("div",{class:"se-table-row",style:{height:`${e.rowHeight}px`}},[t.default?t.default({row:u,index:l.value+a}):JSON.stringify(u)]))])])}}),Qn=e=>(e.install=t=>{const n=e.name;t.component(n,e)},e),bl=Qn(Kn);export{nl as B,ll as C,ml as D,wl as E,ul as I,cl as M,hl as R,ol as S,bl as T,tl as a,pl as b,fl as c,rl as d,il as e,vl as f,sl as g,yl as h,gl as i,al as j,dl as k,ze as l,Q as m,xe as s};
